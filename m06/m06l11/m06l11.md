# Занятие 11: Telegram боты. Создание ботов при помощи чистого API

## 1. Подключение к Telegram Bot API

### **Отправка запросов к API с использованием токена**

Теперь, когда у нас есть токен, мы можем начать отправлять запросы к Telegram Bot API. Для этого нужно сформировать URL, в который будет включён токен и метод API, который мы хотим вызвать.

Пример базового URL:
```
https://api.telegram.org/bot<your-bot-token>/method
```

Где:
- `<your-bot-token>` — это токен, полученный через BotFather.
- `method` — это метод API, который мы хотим вызвать. Например, метод для отправки сообщений называется `sendMessage`.

Для отправки запроса мы используем метод **GET** или **POST**. В данном примере будет использован **GET** запрос.

Пример URL для получения обновлений с использованием токена:
```
https://api.telegram.org/bot123456789:ABCDefghIJKlmnoPQRstUvWxYz/getUpdates
```

Если запрос успешен, сервер Telegram вернёт ответ в формате JSON, который будет содержать данные об обновлениях, такие как сообщения, от которых боту нужно отреагировать.

### **Получение обновлений**
1. Напишите своему боту любое сообщение.
2. Отправьте запрос:
   ```
   https://api.telegram.org/bot<your-bot-token>/getUpdates
   ```
3. Ответ будет содержать JSON, в котором будет указана информация о сообщении, включая **chat_id**.

Пример ответа:
```json
{
   "ok": true,
   "result": [
       {
           "update_id": 123456789,
           "message": {
               "message_id": 1,
               "from": {
                   "id": 123456789,
                   "is_bot": false,
                   "first_name": "User",
                   "last_name": "Name",
                   "username": "username",
                   "language_code": "en"
               },
               "chat": {
                   "id": 123456789,
                   "first_name": "User",
                   "last_name": "Name",
                   "username": "username",
                   "type": "private"
               },
               "date": 1631225680,
               "text": "Hello"
           }
       }
   ]
}
```

Здесь в поле `chat.id` содержится уникальный идентификатор чата (в данном примере `123456789`), который вы можете использовать для отправки сообщений.

## 2. Основные методы Telegram Bot API

Telegram Bot API предоставляет множество методов для взаимодействия с пользователями через ботов. В этом разделе рассмотрим наиболее важные методы и их применение для создания интерактивных ботов. Мы также научимся работать с различными типами данных, такими как текст, медиафайлы, клавиатуры и кнопки.

### **sendMessage — отправка текста**

Метод `sendMessage` позволяет вашему боту отправить текстовое сообщение пользователю или в чат. Это один из самых часто используемых методов, так как он используется для отправки приветственных сообщений, инструкций, уведомлений и т. д.

**Пример использования:**

Метод отправки сообщения выглядит так:
```
https://api.telegram.org/bot<your-bot-token>/sendMessage?chat_id=<chat_id>&text=<message_text>
```

Где:
- `<your-bot-token>` — токен, полученный от BotFather при создании бота.
- `<chat_id>` — уникальный идентификатор чата, куда будет отправлено сообщение. Это может быть как идентификатор личного чата, так и группы.
- `<message_text>` — текст сообщения, которое бот должен отправить.

**Пример запроса для отправки сообщения:**
```
https://api.telegram.org/bot123456789:ABCDefghIJKlmnoPQRstUvWxYz/sendMessage?chat_id=123456789&text=Hello%20World
```

**Пояснения:**
- В `chat_id` вы указываете идентификатор чата (например, для личного чата с пользователем или для группового чата).
- Текст сообщения должен быть кодирован в формате URL. В данном случае "Hello World" был закодирован как `Hello%20World` (где `%20` — это кодировка пробела).
- В ответ от сервера Telegram вы получите JSON-объект, содержащий информацию о статусе отправки сообщения.

**Пример ответа:**
```json
{
   "ok": true,
   "result": {
       "message_id": 1,
       "from": {
           "id": 123456789,
           "is_bot": true,
           "first_name": "TestBot",
           "username": "test_bot"
       },
       "chat": {
           "id": 123456789,
           "first_name": "User",
           "last_name": "Name",
           "username": "username",
           "type": "private"
       },
       "date": 1631225680,
       "text": "Hello World"
   }
}
```

### **getUpdates — получение сообщений и обновлений**

Метод `getUpdates` позволяет вашему боту получать обновления, то есть новые сообщения, которые были отправлены боту пользователями. Это основа для получения входящих сообщений и взаимодействия с пользователем.

**Пример использования:**
```
https://api.telegram.org/bot<your-bot-token>/getUpdates
```

**Пояснения:**
- Этот метод не требует дополнительных параметров. После вызова Telegram API вернёт список всех обновлений, которые происходили с момента последнего запроса. Обновления содержат информацию о новых сообщениях, вызванных командах и других событиях.
- Ответ от сервера будет в формате JSON, и его можно обрабатывать для извлечения нужной информации (например, текстовых сообщений, идентификаторов пользователей).

**Пример ответа на запрос `getUpdates`:**
```json
{
   "ok": true,
   "result": [
       {
           "update_id": 123456789,
           "message": {
               "message_id": 1,
               "from": {
                   "id": 123456789,
                   "is_bot": false,
                   "first_name": "User",
                   "last_name": "Name",
                   "username": "username",
                   "language_code": "en"
               },
               "chat": {
                   "id": 123456789,
                   "first_name": "User",
                   "last_name": "Name",
                   "username": "username",
                   "type": "private"
               },
               "date": 1631225680,
               "text": "Hello"
           }
       }
   ]
}
```

**Как это работает:**
- Обновления от Telegram API включают объект `message`, который содержит все детали о сообщении, отправленном пользователем.
- Вы можете обрабатывать эти данные, чтобы реагировать на команды или текстовые сообщения.

**Заметка:**
- Этот метод подходит для получения новых сообщений в случае, если вы используете **polling** (периодическое опрашивание сервера).
- Для более эффективной работы можно использовать **webhooks**.

### **Другие методы: отправка медиа, создание кнопок и т.д.**

Telegram Bot API предлагает гораздо больше возможностей, чем просто отправка текста и получение обновлений. Рассмотрим несколько дополнительных методов:

1. **Отправка медиафайлов (например, изображений и видео)**

   Для отправки медиафайлов можно использовать метод `sendPhoto`, `sendVideo` и другие. Например:

   Пример отправки изображения:
   ```
   https://api.telegram.org/bot<your-bot-token>/sendPhoto?chat_id=<chat_id>&photo=<file_id_or_url>
   ```

   В качестве параметра `photo` можно передать:
   - ID ранее загруженного файла.
   - URL изображения (например, ссылка на изображение в интернете).

2. **Создание клавиатур и кнопок**

   Для создания кнопок можно использовать параметр `reply_markup` в методах отправки сообщений. Кнопки позволяют пользователям взаимодействовать с ботом без необходимости вводить текст.

   Пример создания кнопок:
   ```json
   {
       "keyboard": [
           [
               {"text": "Button 1"},
               {"text": "Button 2"}
           ]
       ],
       "one_time_keyboard": true
   }
   ```

   При использовании `reply_markup`, сообщение будет содержать клавиатуру с кнопками, нажатие на которые будет отправлять боту заранее заданный текст.

   Пример запроса с кнопками:
   ```
   https://api.telegram.org/bot<your-bot-token>/sendMessage?chat_id=<chat_id>&text=Choose%20an%20option&reply_markup=<keyboard>
   ```

**Пояснение:**
- **Методы отправки медиа** позволяют боту делиться изображениями, видео, документами и другими файлами, что делает его более функциональным.
- **Кнопки** упрощают взаимодействие с пользователем, не требуя ввода текста, что значительно улучшает пользовательский опыт.

## 3. Обработка сообщений

Обработка сообщений — это один из ключевых аспектов при разработке Telegram-ботов. Ваш бот должен уметь не только получать сообщения, но и адекватно на них реагировать. В этом разделе мы рассмотрим, как обрабатывать текстовые сообщения, разберемся в структуре объекта обновления (Update) и научимся работать с командами, такими как `/start` и `/help`.

---

### **Как получать и обрабатывать текстовые сообщения**

Для того чтобы бот мог реагировать на текстовые сообщения, необходимо правильно обрабатывать входящие обновления. В большинстве случаев это делается с помощью метода `getUpdates` или через webhook, как было рассмотрено ранее.

Когда бот получает обновление, оно может содержать как текстовое сообщение, так и другие данные. Чтобы обработать текстовые сообщения, вам нужно извлечь из объекта обновления именно текст и затем применить необходимую логику.

**Шаги для обработки текста:**

1. **Получаем обновление:**  
   В случае использования `getUpdates` или webhook, вы получите JSON-ответ, содержащий обновления.

2. **Извлекаем текст из обновления:**  
   Каждое обновление содержит объект `message`, в котором хранится текст. Важно понимать, что объект `message` может содержать не только текст, но и другие данные, такие как изображения, видеоролики, документы и т.д.

3. **Проверяем, что сообщение содержит текст:**  
   Если сообщение текстовое, оно будет содержать поле `text`, которое можно использовать для обработки. Если это, например, изображение или документ, то в объекте `message` будут другие поля (например, `photo`, `document`).

**Пример обработки текстового сообщения:**

Предположим, что ваш сервер получает запрос с обновлением, и вы хотите извлечь текст сообщения:

```json
{
   "update_id": 123456789,
   "message": {
       "message_id": 1,
       "from": {
           "id": 123456789,
           "is_bot": false,
           "first_name": "User",
           "username": "username",
           "language_code": "en"
       },
       "chat": {
           "id": 123456789,
           "first_name": "User",
           "last_name": "Name",
           "username": "username",
           "type": "private"
       },
       "date": 1631225680,
       "text": "Hello, bot!"
   }
}
```

В данном примере, чтобы получить текст сообщения, достаточно обратиться к полю `text` в объекте `message`:
```python
text = update['message']['text']  # "Hello, bot!"
```

**Пояснение:**
- Каждый объект обновления (Update) может содержать различные типы данных, но если это текстовое сообщение, то поле `text` будет доступно.
- Важно проверять наличие поля `text`, чтобы избежать ошибок, если сообщение не содержит текста.

---

### **Разбор структуры объекта обновления (Update)**

Структура объекта обновления (Update) является основой для обработки данных, поступающих от пользователей. Все обновления в Telegram Bot API возвращаются в формате JSON, и каждый объект имеет схожую структуру.

**Структура объекта Update:**

Объект обновления может содержать несколько полей, в зависимости от типа события. Рассмотрим основные поля:

- **update_id** — уникальный идентификатор обновления, который можно использовать для отслеживания состояния.
- **message** — объект, содержащий информацию о сообщении. Это основное поле для текстовых сообщений.
- **edited_message** — если сообщение было отредактировано, это будет содержать информацию о нем.
- **callback_query** — используется для обработки нажатий на inline-кнопки. Когда пользователь нажимает кнопку, Telegram отправляет запрос с данными о нажатой кнопке.
- **inline_query** — используется для обработки запросов, сделанных через inline-режим, когда бот получает запросы с предложением результатов.

Пример ответа с объектом `message`:

```json
{
   "update_id": 123456789,
   "message": {
       "message_id": 1,
       "from": {
           "id": 123456789,
           "is_bot": false,
           "first_name": "User",
           "last_name": "Name",
           "username": "username",
           "language_code": "en"
       },
       "chat": {
           "id": 123456789,
           "first_name": "User",
           "last_name": "Name",
           "username": "username",
           "type": "private"
       },
       "date": 1631225680,
       "text": "Hello, bot!"
   }
}
```

**Пояснение:**
- **update_id** — уникальный идентификатор обновления. Если вы используете `getUpdates`, это значение важно для отслеживания уже обработанных обновлений.
- **message** — объект, который содержит данные о сообщении, отправленном пользователем. В нем содержатся:
  - **from** — информация о пользователе, отправившем сообщение.
  - **chat** — информация о чате, в котором было отправлено сообщение.
  - **text** — текстовое сообщение.
- Поля, такие как **edited_message**, **callback_query** и **inline_query**, используются для других типов взаимодействий, например, для работы с inline кнопками или отредактированными сообщениями.

---

### **Основы обработки команд (например, /start, /help)**

Команды в Telegram начинаются с символа `/`, и они используются для инициации различных действий. Боты обычно обрабатывают команды для того, чтобы предоставить пользователям доступ к различным функциям или предоставить информацию.

Команды могут быть любыми, например:
- `/start` — часто используется для начала взаимодействия с ботом.
- `/help` — команда для получения справки или инструкций по использованию бота.

Чтобы обработать команду, необходимо извлечь текст сообщения и проверить его на наличие команд.

**Шаги для обработки команд:**

1. **Получаем текст сообщения:**  
   Как мы уже обсудили, текст сообщения можно извлечь через поле `text` объекта `message`.

2. **Проверяем, начинается ли текст с `/`:**  
   Если сообщение начинается с `/`, это, скорее всего, команда, и нужно ее обработать.

3. **Реагируем на команду:**  
   В зависимости от команды, бот может отправить ответ или выполнить действие.

**Пример обработки команд:**

Предположим, бот должен реагировать на команду `/start` с приветственным сообщением, а на команду `/help` — с информацией о функциях бота.

```python
def handle_message(update):
    text = update['message']['text']
    
    if text == '/start':
        response = "Привет! Я бот. Чем могу помочь?"
    elif text == '/help':
        response = "Я могу помочь вам с этими командами: /start, /help."
    else:
        response = "Извините, я не понял команду."
    
    # Отправка ответа
    send_message(update['message']['chat']['id'], response)
```

**Пояснение:**
- Мы проверяем, какое именно сообщение было отправлено с помощью условных операторов.
- Если текст совпадает с командой `/start`, бот отправляет приветственное сообщение.
- Если текст — это команда `/help`, бот отправляет информацию о доступных командах.
- Если команда не распознана, бот может отправить сообщение о том, что не понял команду.

**Реализация функции отправки сообщения:**

```python
import requests

def send_message(chat_id, text):
    url = f'https://api.telegram.org/bot<your-bot-token>/sendMessage'
    params = {
        'chat_id': chat_id,
        'text': text
    }
    requests.get(url, params=params)
```

## 4. **Взаимодействие с пользователем, используя чистый API**

В этом разделе мы рассмотрим, как взаимодействовать с пользователем, используя **чистое API** Telegram, без использования сторонних библиотек. Мы научимся реализовывать команды для бота, отвечать на сообщения, а также работать с кнопками и клавиатурами, которые позволяют улучшить взаимодействие с пользователями.

---

### **Реализация команд для бота**

Для создания бота, который реагирует на команды, нам нужно отправлять запросы к Telegram API с помощью методов, таких как `getUpdates` и `sendMessage`. Бот будет ожидать команды, например, `/start`, и будет отправлять ответ.

**Команды** — это текстовые сообщения, начинающиеся с символа `/`, например, `/start` или `/help`. Когда пользователь отправляет команду, бот должен её обработать и отправить соответствующий ответ.

#### Пример: Реализация команды `/start`

1. **Шаг 1:** Мы используем метод `getUpdates`, чтобы получать обновления от Telegram. Этот метод возвращает список сообщений, отправленных боту, включая команды.
2. **Шаг 2:** Мы проверяем, если пользователь отправил команду `/start`, и вызываем метод `sendMessage`, чтобы отправить ответ.

```python
import requests
import time

# Ваш токен бота, полученный через BotFather
TOKEN = 'YOUR_BOT_TOKEN'

# URL для обращения к API Telegram
url = f'https://api.telegram.org/bot{TOKEN}/'

# Функция для получения обновлений
def get_updates():
    response = requests.get(url + 'getUpdates')
    return response.json()

# Функция для отправки сообщения
def send_message(chat_id, text):
    payload = {'chat_id': chat_id, 'text': text}
    requests.post(url + 'sendMessage', data=payload)

# Основной цикл для проверки новых сообщений
def main():
    while True:
        updates = get_updates()
        for update in updates['result']:
            message = update['message']
            chat_id = message['chat']['id']
            text = message['text']

            # Обработка команды /start
            if text == '/start':
                send_message(chat_id, 'Привет, я бот! Чем могу помочь?')

        time.sleep(5)

if __name__ == '__main__':
    main()
```

**Объяснение:**
- Мы получаем сообщения с помощью метода `getUpdates` и проверяем, отправлена ли команда `/start`.
- Если команда найдена, используем `sendMessage`, чтобы отправить приветственное сообщение.
- `time.sleep(1)` позволяет создавать паузу между запросами, чтобы не перегружать сервер.

---

### **Ответы на сообщения и кнопки inline**

После того как бот получает сообщение от пользователя, он может отправить текстовый ответ, а также добавить интерактивные кнопки для улучшения взаимодействия. В чистом API Telegram для этого используются методы `sendMessage` (для текста) и `sendInlineKeyboard` (для кнопок).

#### **Ответ на сообщение**

Когда бот получает сообщение, он может отреагировать на него и отправить ответ. Это делается с помощью метода `sendMessage`.

**Пример:**
```python
def send_reply(chat_id, message_text):
    payload = {'chat_id': chat_id, 'text': message_text}
    requests.post(url + 'sendMessage', data=payload)
```
- Метод `sendMessage` отправляет текстовое сообщение на указанный `chat_id`.
- Бот может просто повторить сообщение пользователя или отправить какой-то ответ в зависимости от содержания сообщения.

#### **Inline кнопки**

**Inline кнопки** — это кнопки, которые появляются прямо в сообщении и могут быть нажаты пользователем. Чтобы создать кнопки, нужно использовать метод `sendMessage` с параметром `reply_markup`.

**Пример с Inline кнопками:**
```python
def send_inline_keyboard(chat_id):
    # Определяем кнопки
    keyboard = {
        "inline_keyboard": [
            [{"text": "Кнопка 1", "callback_data": "1"}],
            [{"text": "Кнопка 2", "callback_data": "2"}]
        ]
    }

    # Отправляем сообщение с кнопками
    payload = {
        'chat_id': chat_id,
        'text': 'Выберите одну из кнопок:',
        'reply_markup': keyboard
    }
    requests.post(url + 'sendMessage', json=payload)
```

**Объяснение:**
- В данном примере создаём inline клавиатуру с двумя кнопками: «Кнопка 1» и «Кнопка 2».
- Каждая кнопка имеет параметр `callback_data`, который используется для обработки нажатий.
- Когда пользователь нажимает кнопку, бот получит данные из `callback_data`, и на основе этого выполнит соответствующее действие.

---

### **Создание клавиатур (reply_markup)**

**Reply клавиатуры** — это клавиатуры, которые отображаются внизу экрана в чате с ботом. Пользователь может выбрать одну из кнопок для взаимодействия с ботом. Клавиатуры могут содержать как текстовые кнопки, так и более сложные элементы, такие как кнопки для отправки местоположения или контактных данных.

#### **Пример создания клавиатуры:**

Чтобы создать клавиатуру в ответе на сообщение, используем параметр `reply_markup` с типом `ReplyKeyboardMarkup`.

```python
def send_reply_keyboard(chat_id):
    keyboard = {
        "keyboard": [
            [{"text": "Кнопка 1"}, {"text": "Кнопка 2"}],
            [{"text": "Отправить мое местоположение", "request_location": True}]
        ],
        "resize_keyboard": True  # Клавиатура будет адаптироваться под размер экрана
    }

    payload = {
        'chat_id': chat_id,
        'text': 'Выберите одну из кнопок:',
        'reply_markup': keyboard
    }
    requests.post(url + 'sendMessage', json=payload)
```

**Объяснение:**
- В данном примере создаём клавиатуру с двумя строками кнопок. Первая строка содержит две кнопки с текстами «Кнопка 1» и «Кнопка 2». Во второй строке добавлена кнопка для отправки местоположения пользователя.
- Опция `resize_keyboard: True` позволяет клавиатуре автоматически подстраиваться под размер экрана пользователя.
  
#### **Скрытие клавиатуры**

После того как пользователь выбрал вариант, иногда нужно скрыть клавиатуру. Для этого используется параметр `ReplyKeyboardRemove`.

**Пример скрытия клавиатуры:**
```python
def remove_keyboard(chat_id):
    keyboard = {"remove_keyboard": True}
    payload = {
        'chat_id': chat_id,
        'text': 'Клавиатура скрыта!',
        'reply_markup': keyboard
    }
    requests.post(url + 'sendMessage', json=payload)
```

**Объяснение:**
- В примере выше мы скрываем клавиатуру с помощью `{"remove_keyboard": True}`, что означает, что клавиатура больше не будет отображаться в чате.

## 5. **Дополнительные возможности**

В этом разделе мы рассмотрим более продвинутые возможности Telegram API, которые позволяют создавать более интерактивных и функциональных ботов. Это включает отправку **медиафайлов** (таких как изображения и видео), работу с **файлами и документами**.

---

### **Отправка медиафайлов (изображения, видео)**

Одной из сильных сторон Telegram является возможность отправлять и получать не только текстовые сообщения, но и медиафайлы. Мы можем использовать Telegram Bot API для отправки различных типов медиа, таких как **изображения**, **видео**, **аудио**, **документы** и другие файлы. 

#### **Отправка изображений**

Чтобы отправить изображение, можно использовать метод `sendPhoto`. Важно отметить, что изображение может быть отправлено как **ссылка на файл**, так и **файл в виде объекта** (через параметр `photo`).

**Пример отправки изображения:**
```python
import requests

def send_photo(chat_id, photo_url):
    # URL для отправки фотографии
    url = f'https://api.telegram.org/bot{TOKEN}/sendPhoto'
    payload = {
        'chat_id': chat_id,
        'photo': photo_url  # Можно использовать URL изображения или путь к файлу
    }
    response = requests.post(url, data=payload)
    return response.json()

# Пример использования
send_photo(123456789, 'https://example.com/image.jpg')
```

**Объяснение:**
- Мы используем метод `sendPhoto` для отправки изображения пользователю.
- В `payload` мы передаём `chat_id` (идентификатор чата), в котором будет отправлено изображение, и URL изображения.
- Telegram API автоматически обрабатывает изображение и отправляет его.

#### **Пример кода для отправки локального изображения**

Чтобы отправить изображение, которое хранится локально на вашем компьютере, с использованием чистого API Telegram, вам нужно использовать метод `sendPhoto` и передать файл в запросе. В случае с локальным файлом вы передаете сам файл, а не ссылку на изображение.

```python
import requests

# Ваш токен бота, полученный через BotFather
TOKEN = 'YOUR_BOT_TOKEN'

# URL для обращения к API Telegram
url = f'https://api.telegram.org/bot{TOKEN}/sendPhoto'

def send_local_image(chat_id, file_path):
    # Открываем локальный файл изображения
    with open(file_path, 'rb') as photo_file:
        # Подготовка данных для отправки
        payload = {
            'chat_id': chat_id  # Указываем ID чата, куда отправим изображение
        }
        
        # Передаем файл как параметр 'photo'
        files = {
            'photo': photo_file
        }

        # Отправляем запрос POST к API Telegram
        response = requests.post(url, data=payload, files=files)

        # Выводим ответ для отладки
        return response.json()

# Пример использования
chat_id = 123456789  # Замените на ID вашего чата
file_path = 'path/to/your/image.jpg'  # Укажите путь к вашему локальному изображению
response = send_local_image(chat_id, file_path)
print(response)
```

**Объяснение:**

1. **URL запроса**: Мы используем URL `https://api.telegram.org/bot{TOKEN}/sendPhoto`, где `{TOKEN}` — это ваш токен, полученный через **BotFather**.

2. **Открытие локального файла**: Для того чтобы отправить файл, мы открываем изображение с помощью функции `open(file_path, 'rb')`, где `'rb'` указывает на режим чтения файла в бинарном формате.

3. **Подготовка данных**: 
    - В параметре `payload` мы передаем `chat_id` (идентификатор чата, в который отправим изображение).
    - В параметре `files` передаем сам файл изображения, который будет отправлен как `photo`.

4. **Отправка запроса**: Используем метод `requests.post` для отправки запроса с параметрами `data` (для текстовых данных, например, `chat_id`) и `files` (для файлов).

5. **Ответ от Telegram API**: Ответ от API возвращается в формате JSON, который можно распечатать для отладки.

#### **Отправка видео**

Для отправки видео используется метод `sendVideo`. Это аналогично отправке изображения, но с указанием видеофайла.

**Пример отправки видео:**
```python
def send_video(chat_id, video_url):
    url = f'https://api.telegram.org/bot{TOKEN}/sendVideo'
    payload = {
        'chat_id': chat_id,
        'video': video_url  # Можно использовать URL видео или путь к видеофайлу
    }
    response = requests.post(url, data=payload)
    return response.json()

# Пример использования
send_video(123456789, 'https://example.com/video.mp4')
```

**Объяснение:**
- В этом примере мы отправляем видео с помощью `sendVideo`.
- `video_url` может быть ссылкой на видео или локальным файлом. 

---

### **Работа с файлами и документами**

Помимо медиафайлов, Telegram поддерживает отправку различных **документов и файлов**. Чтобы отправить файл, используется метод `sendDocument`. Важно отметить, что этот метод поддерживает отправку как **файлов по URL**, так и **локальных файлов**.

#### **Отправка документов**

**Пример отправки документа:**
```python
def send_document(chat_id, document_path):
    url = f'https://api.telegram.org/bot{TOKEN}/sendDocument'
    payload = {
        'chat_id': chat_id,
        'document': document_path  # Путь к файлу или URL
    }
    response = requests.post(url, data=payload)
    return response.json()

# Пример использования
send_document(123456789, 'https://example.com/sample.pdf')
```

**Объяснение:**
- Метод `sendDocument` позволяет отправлять документы и файлы, такие как PDF, DOCX и другие.
- `document_path` может быть URL файла, доступного через интернет, или путь к локальному файлу.

#### **Отправка аудио или других медиафайлов**

Telegram также поддерживает отправку **аудиофайлов** (метод `sendAudio`), **анимированных GIF** (метод `sendAnimation`), а также **голосовых сообщений** (метод `sendVoice`). Все эти методы аналогичны по структуре: они требуют передачи `chat_id` и соответствующего файла.
